{% extends "bossin_admin/base.html" %}
{% load static %}
{% load humanize %}

{% block title %}Themes & Categories - Bossin Admin Portal{% endblock %}

{% block admin_content %}
<!-- Page Header -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="h3 mb-1"><i class="bi bi-palette me-2"></i>Themes & Categories</h1>
        <p class="text-muted mb-0">Manage category discounts and default themes</p>
    </div>
</div>

<!-- Category Discounts -->
<div class="admin-card">
    <h3><i class="bi bi-percent me-2"></i>Category Discounts</h3>
    
    <form method="post" action="{% url 'bossin_admin:themes_update' %}">
        {% csrf_token %}
        <div class="row">
            {% for category, label in categories %}
            <div class="col-md-6 col-lg-4 mb-3">
                <label class="form-label">
                    <strong>{{ label }}</strong>
                </label>
                <div class="input-group">
                    <input type="number" 
                           name="discount_{{ category }}" 
                           class="form-control" 
                           value="{% for key, value in category_discounts.items %}{% if key == category %}{{ value }}{% endif %}{% empty %}35{% endfor %}" 
                           min="0" 
                           max="100" 
                           required>
                    <span class="input-group-text">%</span>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="mt-3">
            <button type="submit" class="btn btn-admin">
                <i class="bi bi-save"></i> Save Changes
            </button>
        </div>
    </form>
</div>

<!-- Current Settings -->
<div class="admin-card mt-4">
    <h5><i class="bi bi-info-circle me-2"></i>Current Settings</h5>
    <div class="row">
        {% for category, label in categories %}
        <div class="col-md-4 mb-2">
            <div class="d-flex justify-content-between">
                <span>{{ label }}:</span>
                <strong>{% for key, value in category_discounts.items %}{% if key == category %}{{ value }}{% endif %}{% empty %}35{% endfor %}%</strong>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

