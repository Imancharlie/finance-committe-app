{% extends "tracker/onboarding/base.html" %}

{% block title %}Organization Branding - Onboarding{% endblock %}

{% block content %}
<div class="onboarding-header">
    <h1><i class="bi bi-palette me-2"></i>Organization Branding & Theme</h1>
    <p>Select your category to auto-apply a default theme. Colors are set by category.</p>
</div>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Category Selection -->
    <div class="form-group">
        <label for="category">Organization Category</label>
        <select id="category" name="category">
            {% for value, label in category_choices %}
                <option value="{{ value }}" {% if organization.category == value %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
        <small>Weâ€™ll set default colors based on the category (no need to pick a theme).</small>
    </div>

    <!-- Navbar Title -->
    <div class="form-group">
        <label for="navbar_title">Navbar Title</label>
        <input 
            type="text" 
            id="navbar_title" 
            name="navbar_title" 
            value="{{ theme.navbar_title }}"
            placeholder="Your organization name"
        >
        <small>This appears in the navigation bar</small>
    </div>

    <!-- Logo -->
    <div class="form-group">
        <label for="logo">Organization Logo</label>
        <input 
            type="file" 
            id="logo" 
            name="logo" 
            accept="image/*"
        >
        <small>Recommended size: 200x200px (PNG or JPG)</small>
        {% if theme.logo %}
            <div style="margin-top: 0.5rem;">
                <img src="{{ theme.logo.url }}" alt="Current logo" style="max-width: 100px; border-radius: 6px;">
            </div>
        {% endif %}
    </div>

    <!-- Watermark Text -->
    <div class="form-group">
        <label for="watermark_text">Report Watermark Text</label>
        <input 
            type="text" 
            id="watermark_text" 
            name="watermark_text" 
            value="{{ theme.watermark_text }}"
            placeholder="Bossin"
        >
        <small>Text that appears on exported reports</small>
    </div>

    <!-- Colors are set automatically by category; no manual selection -->

    <div class="button-group">
        <button type="submit" class="btn-action btn-next">
            <i class="bi bi-arrow-right me-1"></i>Next: Staff
        </button>
        <a href="{% url 'tracker:onboarding_staff' org_slug=organization.slug %}" class="btn-action btn-skip">
            <i class="bi bi-skip-forward me-1"></i>Skip
        </a>
    </div>
</form>
{% endblock %}
